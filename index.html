<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IPTV Loader</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
  h1 { color: #333; text-align: center; }
  h2 { color: #555; margin-top: 30px; }
  ul { list-style: none; padding: 0; }
  li { padding: 5px 0; }
  a { text-decoration: none; color: #0077cc; }
  a:hover { text-decoration: underline; }
  #pcView, #mobileView { display: none; }
</style>
</head>
<body>

<h1>IPTV Playlist</h1>

<!-- PC version -->
<div id="pcView">
  <h2>PC Version</h2>
  <ul id="pcList"></ul>
</div>

<!-- Mobile version -->
<div id="mobileView">
  <h2>Mobile Version</h2>
  <ul id="mobileList"></ul>
</div>

<script>
  // Detect device
  const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
  const pcView = document.getElementById("pcView");
  const mobileView = document.getElementById("mobileView");

  if(isMobile) {
    mobileView.style.display = "block";
  } else {
    pcView.style.display = "block";
  }

  // Your M3U playlist URL (can also be local file like "playlist.m3u")
  const playlistURL = "playlist.m3u"; // <-- replace this with your M3U URL or local path

  // Load and parse M3U
  fetch(playlistURL)
    .then(response => response.text())
    .then(text => {
      const lines = text.split(/\r?\n/);
      const pcList = document.getElementById("pcList");
      const mobileList = document.getElementById("mobileList");

      for(let i = 0; i < lines.length; i++) {
        const line = lines[i].trim();
        if(line && !line.startsWith("#")) {
          const li = document.createElement("li");
          const a = document.createElement("a");
          a.href = line;
          a.target = "_blank";
          a.textContent = line;

          li.appendChild(a);
          pcList.appendChild(li.cloneNode(true));
          mobileList.appendChild(li.cloneNode(true));
        }
      }
    })
    .catch(err => {
      console.error("Failed to load playlist:", err);
      const msg = document.createElement("p");
      msg.textContent = "Failed to load playlist. Make sure the URL/path is correct.";
      document.body.appendChild(msg);
    });
</script>

</body>
</html>

